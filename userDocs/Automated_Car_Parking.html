<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
<style type="text/css">
body
{
    margin-left:  30px;
    margin-right: 30px;
};

P
{
    font-family: Tahoma;
    font-size: 10pt;
};

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
	font-size: 93%;
}

a:hover {
    background-color: #cccccc;
}


hr {
    clear: both;
    height: 1px;
    color: #242424;
    background-color: transparent;
}

h1, h2, h3 {
    color: #242424;
    clear: left;
    font: 100% Tahoma, Helvetica, Arial, sans-serif;
    margin-bottom: 0.5em;
    padding-top: 0.5em;
	border-radius: 10px;
	padding: 5px;
}

top {
	width: 100%;
}


#i {
    color: #ff1010;
}
tt{
	font-family: "Arial";
    font-size: 90%;
	color: #006600;
}
em{
	font-family: "Arial";
    font-size: 80%;
	font-weight: bold;
	border-style:solid;
	border-color: #abe876;
    color: #1632cc;
}
bc{
	font-family: "Arial";
	font-size: 90%;
	font-weight: bold;
    color: #990000;
	background-color: #fcf8c7;
}
ks{
	font-family: "Arial";
	font-weight: bold;
    color: #0000CD	;
	font-size: 90%;
}
kc{
	font-family: "Arial";
	font-weight: bold;
    color: #008000	;
	font-size: 90%;
}
pre{
	font-family: "Consolas";
	font-size: 85%;
	background-color: #f5f5f5;
	border: 1.5px solid silver;
	padding: 5px;
}
m{
	font-family: "Helvetica";
	line-height: 100%;
 	font-size: 75%;
}
div.body{
	 
    font-size: 18px;
}
k{
    color: #990000;
	font-weight: bold;
	font-size: 90%;
}
h1 {
    font-size: 150%;
    background-color: #b2c0ff;
	padding: 10px;
}

h2 {
    background-color: #9ed8ff;
    font-size: 130%;
}

h3 {
	background-color: #e6ccff;
    font-size: 100%;
}
h4 {
    background-color: #ccffcc;
    font-size: 100%;
	width: 95%;
	border-radius: 5px;
	padding: 2px;
}
h5 {
    background-color: #d5ffb0;
    font-size: 100%;

}
div.req{
	background-color: #d9ffb3;
    font-size: 18px;
	width: 700px;
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}
div.remark{
	background-color: #E3F2FD;
    border: 1.5px solid #d5f2ed;
    padding: 15px;
    margin: 10px;
	border-radius: 25px;
}
table {
	width:100%;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
  padding-left: 10px;
  padding-right: 10px;
}

ol, ul, li {
  margin: 0;
  margin-left: 10px;
  padding: 0;
  padding-bottom: 5px;
}

table, th, td {
	border: 1px solid black;
}

img {
	border: 1.5px solid #d5f2ed

}

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
}

div.wrapdesc{
	width: 90%;
	margin: auto;
}

div.imagedesc{
	width: 85%;
	margin: auto;
}
</style>
    
<head>
   
<title>Automated Car Parking (Mattioli-Marchegiani)</title></head>
    
<body>
<div id="top">
<h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE <font size="5"></font> </h1>
</div>  

<div class="body"> 
<h2>Introduction</h2>
 
 
<h2>Requirements</h2>

 
<div class="remark">
<a href=https://github.com/anatali/issLab2021/blob/main/it.unibo.issLabStart/userDocs/TFBO21ParkingISS.pdf>TFBO21ParkingISS.pdf</a>
</div>

 

<h2>Requirement analysis</h2>

<div class="remark">
	<h3>Meaning of nouns and verbs</h3>
    <kc>NOUNS</kc>:
    <ul>
        <li><ks>DDR Robot</ks>: Differential Drive Robot. It is capable of moving in the environment by executing simple move commands. It can be equipped with a range of devices. It must be capable of moving object as a transpot trolley with a squared form of fixed side length;</li>
        <li><ks>Home location</ks>: fixed starting position inside the parking-area where the robot will be located before the software starts and where it will return if no jobs are pending;</li>
        <li><ks>Parking-area</ks>: empty room that must include an indoor, indoor-area, outdoor, outdoor-area, parking-slots, thermometer and a fan;</li>
        <li><ks>Indoor</ks>: used to get the car into the parking-area;</li>
        <li><ks>Indoor-area</ks>: faces the indoor and hosts the car that needs to be parked. It is also equipped with a weightsensor;</li>
        <li><ks>Weightsensor</ks>: sensor that measures the weigth of the car inside the indoor-area;</li>
        <li><ks>Outdoor</ks>: used to exit the car from the parking-area;</li>
        <li><ks>Outdoor-area</ks>: faces the outdoor and hosts the car to be picked up. It is also equipped with a ousonar. Once it is engaged by a car it should be freed within a prefixed interval of time;</li>
        <li><ks>Outsonar</ks>: sonar that detects the presence of a car within a certain space;</li>
        <li><ks>Parking-slot</ks>: area used for parking cars. The area covered by the parking-slots connot be crossed by the robot;</li>
        <li><ks>Thermometer</ks>: tool used to measure the temperature inside the parking-area;</li>
        <li><ks>Fan</ks>: tool used to lower the temperature inside the parking-area. It is activated when the temperature is above a certain prefixed value;</li>
        <li><ks>Map</ks>: it is a representation of the parking-area. It is a grid of squares of fixed side length. It includes the parking-slot positions (marked with a red X) and the fixed obstacles in the area (marked with a black X);</li>
        <li><ks>Fixed obstacle</ks>: non-moving object inside the parking-area that the robot cannot cross;</li>
        <li><ks>Wall</ks>: fixed obstacle that delimits the parking-area;</li>
        <li><ks>ParkingServiceGUI</ks>: a user interacting component that allow the client to manifest the interst of entering the car into the parking-area and receiving information abount the state of the parking-area (ei. free slots). Also allow the client to call the robot to park the car;</li>
        <li><ks>ParkServiceStatusGUI</ks>: a user interacting component that allow the parking-manager to observe the status of the parking-area including temperature and status of the fan and the robot;</li>
		<li><ks>Status</ks>: information about the state of the robot, the fan, the temperature of the room, the car waiting for entering/exiting the parking-area, free/occupied parking-slots;</li>
		<li><ks>Token</ks>: a unique identifier of the couple car-slot inside the parking-area;</li>
		<lis><ks>Client</ks>: fisical person that posses a car;</lis>
    </ul>
    <kc>VERBS</kc>:
    <ul>
        <li><ks>Stop the robot</ks>: stops the robot in the position it is currently. This operation is always up to the parking-manager;</li>
        <li><ks>Start the robot</ks>: start the robot from the position it is currently. This operation is always up to the parking-manager;</li>
        <li><ks>Stop the fan</ks>: stops the fan from working. This operation can either be automated (by checking the temperature) or not;</li>
        <li><ks>Start the fan</ks>: start the fan. This operation can either be automated (by checking the temperature) or not;</li>
		<li><ks>Pick up car</ks>: the client who parked the car must be able of collecting it from the outdoor-areaby entering the token related to his/her car;</li>
		<li><ks>Enter car</ks>: the client must be able to enter the car inside the indoor-area once it is free amd he/she must receive as answare the number of free parking-slots and if a slot is available he/she will receive a unique token;</li>
		<li><ks>Check status</ks>: the manager must be able to check the status of the entire system;</li>
		<li><ks>Inform the client</ks>: send/show a massage to the client;</li>
    </ul>
</div>

<div class="remark">
	<h3>Definition of a formal model of the requirements</h3>

	<h4>Use Cases</h4>

	From the requirements we defined a model representing the use cases of the user/client and of the manager, in order to better visualize what is requested from the consumer.
	<br>
	<ks>User Actor</ks><br>
	<em>Notify interest</em>
	<table style="width:100%" border="1">
		<tbody><tr>
			<td style="width:40%">
				Pre-condition
			</td>
			<td>
				-The transport trolley is not stopped;<br>
				-The indoor-area is free;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Post-condition
			</td>
			<td>
				-The car enters the indoor-area;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Main Scenario
			</td>
			<td>
				<ol>
					<li>The user notify to the system the interest of entering his/her car inside the parking-area;
					</li>
					<li>The user receive a massage containing a slotnumber (use case Emit Slotnum);		
					</li>
					<li>The slot number received is higher than zero and representing the parking-slot number, the car can enter the indoor area; 			
					</li>
				</ol>
			</td>			
		</tr>
		<tr>
			<td style="width:40%">
				Alternativa Scenario
			</td>
			<td>
				3.1. The slot number is equal to zero meaning the parking-area is full. The car cannot enter; 			
			</td>
		</tr>
	</tbody></table> 


	<em>Car enter</em>
	<table style="width:100%" border="1">
		<tbody><tr>
			<td style="width:40%">
				Pre-condition
			</td>
			<td>
				-The robot is not working;
				-The CARENTER button is pressed;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Post-condition
			</td>
			<td>
				-The car is parked;
				-The transport trolley can go back to its home position or fulfill another request;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Main Scenario
			</td>
			<td>
				<ol>
					<li>The transport trolley moves the car from the indoor-area to the selected parking-slot;		
					</li>
					<li>The client receive a unique token (use case Emit Token) to pic up the car from the outdoor-area;</li>
				</ol>
			</td>			
		</tr>
		<tr>
			<td style="width:40%">
				Alternativa Scenario
			</td>
			<td>			
			</td>
		</tr>
	</tbody></table> 

	<br>
	<ks>User Actor</ks><br>

	<em>Stop Fan</em>
	<table style="width:100%" border="1">
		<tbody><tr>
			<td style="width:40%">
				Pre-condition
			</td>
			<td>
				-The fan is working;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Post-condition
			</td>
			<td>
				-The fan is stopped;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Main Scenario
			</td>
			<td>
				<ol>
					<li>When the temperature inside the parking-area is above a certain value the fan cools down the temperature;		
					</li>
				</ol>
			</td>			
		</tr>
		<tr>
			<td style="width:40%">
				Alternativa Scenario
			</td>
			<td>			
			</td>
		</tr>
	</tbody></table> 

	<em>Obser State</em>
	<table style="width:100%" border="1">
		<tbody><tr>
			<td style="width:40%">
				Pre-condition
			</td>
			<td>
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Post-condition
			</td>
			<td>
				-The manager check information about the parking-area;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Main Scenario
			</td>
			<td>
				<ol>
					<li>The manager must be able of checking the status about the fan, the transport trolley, the temperature and the available slots. Also can view the history of the parking-area;		
					</li>
				</ol>
			</td>			
		</tr>
		<tr>
			<td style="width:40%">
				Alternativa Scenario
			</td>
			<td>			
			</td>
		</tr>
	</tbody></table> 

	<em>Start Trolley</em>
	<table style="width:100%" border="1">
		<tbody><tr>
			<td style="width:40%">
				Pre-condition
			</td>
			<td>
				-The transport trolley is stopped;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Post-condition
			</td>
			<td>
				-The transport trolley is resumed;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Main Scenario
			</td>
			<td>
				<ol>
					<li>The transport trolley is resumed by the manager and continue to serve the current request, starts a new one or go back to the home position.	
					</li>
				</ol>
			</td>			
		</tr>
		<tr>
			<td style="width:40%">
				Alternativa Scenario
			</td>
			<td>	
				1.1. The temperature is above the max temperature fixed value;
				1.1.1 The robot cannot be resumed;
		
			</td>
		</tr>
	</tbody></table> 

	<em>Stop Trolley</em>
	<table style="width:100%" border="1">
		<tbody><tr>
			<td style="width:40%">
				Pre-condition
			</td>
			<td>
				-The transport trolley is working;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Post-condition
			</td>
			<td>
				-The transport trolley is stopped;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Main Scenario
			</td>
			<td>
				<ol>
					<li>The transport trolley is stopped from the manager in any moment (expecially when the temperature inside the parking area is above a fixed value);
					</li>
				</ol>
			</td>			
		</tr>
		<tr>
			<td style="width:40%">
				Alternativa Scenario
			</td>
			<td>			
			</td>
		</tr>
	</tbody></table> 

	<em>Start Fan</em>
	<table style="width:100%" border="1">
		<tbody><tr>
			<td style="width:40%">
				Pre-condition
			</td>
			<td>
				-The fan is stopped;
				-The temperature inside the parking-area is above a certain fixedvalue; 
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Post-condition
			</td>
			<td>
				-The fan starts;
			</td>
		</tr>
		<tr>
			<td style="width:40%">
				Main Scenario
			</td>
			<td>
				<ol>
					<li>The fan starts and decrease the temperature inside the parking-area. This task could be automated;
					</li>
				</ol>
			</td>			
		</tr>
		<tr>
			<td style="width:40%">
				Alternativa Scenario
			</td>
			<td>			
			</td>
		</tr>
	</tbody></table> 

	









	Since our software must move the robot inside the parking-area, we must find a way to automatically test all tasks concerning movements.<br><br>
	
	At this stage, we need to introduce a <ks>proper representation</ks> of the parking-area. Luckly, the customer already gave us a file representing the parking-area as a <em>map</em>: <a href="https://github.com/anatali/issLab2021/blob/main/it.unibo.issLabStart/userDocs/parkingMap.txt">parkingMap.txt</a><br>
	As we can see from the requirements, the map is a <k>grid of square with fixed size</k>:</br></br>
	
	<table>
		<tbody>
			<td>
				<center><img src="./img/base_map.png" alt="Map scheme" style="max-width:100%"/></center>
				<center><i>Scheme of the map as a grid</i></center>
			</td>
			<td><center>
	<pre style="max-width:100%">
	
	
|r, 0, 0, 0, 0, 0, 0, X
|0, 0, <k>X</k>, <k>X</k>, 0, 0, 0, X
|0, 0, <k>X</k>, <k>X</k>, 0, 0, 0, X
|0, 0, <k>X</k>, <k>X</k>, 0, 0, 0, X
|0, 0, 0, 0, 0, 0, 0, X
|X, X, X, X, X, X, X, X

	</pre>
			</center>
			<center><i>Map given by the customer</i></center>
			</td>
		</tbody>
	</table></br>
	
	In the above representation, the customer specify that:
	<ul>
		<li><b>r</b> : cell occupied by the robot</li>
		<li><b>0</b> : cell not occupied (robot can pass over it)</li>
		<li><b><k>X</k></b> : cell representing a paking-slot</li>
		<li><b>X</b> : cell occupied by fixed obstacle</li>
		<li><div style="width:20px;height:20px;background-color:#FFF2CC;display:inline-block;border:1px solid #D6B656"></div>: home</li>
	</ul>
	
	<h3><ks>mapUtil</ks></h3>
	A proper support for the room-map can be given by the following utility:
	<table style="width:100%" border="1">
		<tbody><tr>
			<td style="width:40%">
				<a href="https://github.com/anatali/issLab2021/blob/main/it.unibo.kotlinSupports/app/src/main/kotlin/mapRoomKotlin/mapUtil.kt" target="code"><em>mapUtil.kt</em></a>  <br>(project <i>it.unibo.kotlinSupports</i>)
				<br><br>
				<m>
				For a demo, see 
				<a href="https://github.com/anatali/issLab2021/blob/main/it.unibo.kotlinSupports/app/src/main/kotlin/mapRoomKotlin/MainMapUsage.kt" target="code">MainMapUsage.kt</a> 
				</m>
			</td>
			<td>
				<ol>
				<li>creates a room map as a singleton;</li>
				<li>provides the operation <bc>doMove(move: String )</bc> that updates the map according to the given robot move
				(<tt>w | s | r | l | h </tt>)
				</li>
				<li>provides the operation <bc>getMapAndClean( ): String</bc> that returns a String-representation of the current map and
				resets the map to the empty map;
				</li>
				<li>provides the operation <bc>showMap( )</bc> that prints on the standard output the String-representation of the current map.
				</li>
				</ol>
			</td>
		</tr>
	</tbody></table> 
	<k>This utility can be adapted to the map given by the customer.</k>
	
	<h3>Use Case</h3>
	From the user stories provided by the customer it is possible to produce an <a href=https://en.wikipedia.org/wiki/Use_case_diagram targer="web">Use Case Diagram</a>:
	</br></br>
	<center><img src="./img/useCase.png" style="max-width:100%" alt="Use case diagram" /></center></br>
	Zooming into this diagram, we present some sample details about all use cases:
	<center><table>
	<tr><td colspan="2"><center><h4>Actor: User</h4></center></td></tr>
		<tr>
			<td style="width:50%">
				<h5 style="padding-left:10px"><ks>Notify Interest</ks></h5>
				<ul>
					<li><b>Dependencies:</b> <i>Emit Slotnum</i></li>
					<li><b>Description</b>: ...</li>
				</ul>
			</td>
			<td>
				<h5 style="padding-left:10px"><ks>Car Enter</ks></h5>
				<ul>
					<li><b>Dependencies:</b><i>Notify Interest</i>, <i>Emit TokenId</i></li>
					<li><b>Description</b>: </li>
				</ul>
			</td>
		</tr>
		<tr>
			<td style="width:50%">
				<h5 style="padding-left:10px"><ks>Emit Slotnum</ks></h5>
				<ul>
					<li><b>Description</b>: </li>
				</ul>
			</td>
			<td>
				<h5 style="padding-left:10px"><ks>Emit Tokeid</ks></h5>
				<ul>
					<li><b>Description</b>: </li>
				</ul>
			</td>
		</tr>
		<tr>
			<td style="width:50%">
				<h5 style="padding-left:10px"><ks>Submit Token</ks></h5>
				<ul>
					<li><b>Description</b>: </li>
				</ul>
			</td>
			<td>
				<h5 style="padding-left:10px"><ks>Pickup Car</ks></h5>
				<ul>
					<li><b>Dependencies:</b> <i>Submit Token</i></li>
					<li><b>Description</b>: </li>
				</ul>
			</td>
		</tr>
		<tr>
			<td colspan="2">
				<h5 style="padding-left:10px"><ks>Emit Alarm</ks></h5>
				<ul>
					<li><b>Dependencies:</b> <i>Pickup Car</i></li>
					<li><b>Description</b>: </li>
				</ul>
			</td>
		</tr>
	</table></center>
	</br>
	<center><table>
	<tr><td colspan="2"><center><h4>Actor: Manager</h4></center></td></tr>
		<tr>
			<td style="width:50%">
				<h5 style="padding-left:10px"><ks>Identification</ks></h5>
				<ul>
					<li><b>Description</b>: ...</li>
				</ul>
			</td>
			<td>
				<h5 style="padding-left:10px"><ks>Start Fan</ks></h5>
				<ul>
					<li><b>Dependencies:</b> <i>Identification</i></li>
					<li><b>Description</b>: </li>
				</ul>
			</td>
		</tr>
		<tr>
			<td style="width:50%">
				<h5 style="padding-left:10px"><ks>Stop Fan</ks></h5>
				<ul>
					<li><b>Dependencies:</b> <i>Identification</i></li>
					<li><b>Description</b>: </li>
				</ul>
			</td>
			<td>
				<h5 style="padding-left:10px"><ks>Start Trolley</ks></h5>
				<ul>
					<li><b>Dependencies:</b> <i>Identification</i></li>
					<li><b>Description</b>: </li>
				</ul>
			</td>
		</tr>
		<tr>
			<td style="width:50%">
				<h5 style="padding-left:10px"><ks>Stop Trolley</ks></h5>
				<ul>
					<li><b>Dependencies:</b> <i>Identification</i></li>
					<li><b>Description</b>: </li>
				</ul>
			</td>
			<td>
				<h5 style="padding-left:10px"><ks>Observe State</ks></h5>
				<ul>
					<li><b>Dependencies:</b> <i>Identification</i></li>
					<li><b>Description</b>: </li>
				</ul>
			</td>
		</tr>
	</table></center>
	
	
	<h3>Task Modeling</h3>
	
	<table>
		<tbody>
		<tr>
			<td style="width:60%">
				<h4 style="padding-left:10px"><ks><i>moveToIn</i></ks> Task</h4>
				
			</td>
			<td>
				<center><img src="img/moveToIn_map.png" alt="moveToIn Graph" style="max-width:100%"></center>
			</td>
		</tr>
		<tr>
			<td style="width:60%">
				<h4 style="padding-left:10px"><ks><i>moveToSlotIn</i></ks> Task</h4>
				
			</td>
			<td>
				<center><img src="img/moveToSlotIn_map.png" alt="moveToSlotIn Graph" style="max-width:100%"></center>
			</td>
		</tr>
		<tr>
			<td style="width:60%">
				<h4 style="padding-left:10px"><ks><i>backToHome</i></ks> Task</h4>
				
			</td>
			<td>
				<center><img src="img/backToHome_map.png" alt="backToHome Graph" style="max-width:100%"></center>
			</td>
		</tr>
		<tr>
			<td style="width:60%">
				<h4 style="padding-left:10px"><ks><i>moveToHome</i></ks> Task</h4>
				
			</td>
			<td>
				<center><img src="img/moveToHome_map.png" alt="moveToHome Graph" style="max-width:100%"></center>
			</td>
		</tr>
		<tr>
			<td style="width:60%">
				<h4 style="padding-left:10px"><ks><i>moveToSlotOut</i></ks> Task</h4>
				
			</td>
			<td>
				<center><img src="img/moveToSlotOut_map.png" alt="moveToSlotOut Graph" style="max-width:100%"></center>
			</td>
		</tr>
		<tr>
			<td style="width:60%">
				<h4 style="padding-left:10px"><ks><i>moveToOut</i></ks> Task</h4>
				
			</td>
			<td>
				<center><img src="img/moveToOut_map.png" alt="moveToOut Graph" style="max-width:100%"></center>
			</td>
		</tr>
	</tbody></table>

</div>
 

</div>

<h2>Problem analysis</h2>
	
	<div class="remark">
	For now, we will use the virtual robot given by the customer and described in <em><a href=http://htmlpreview.github.io/?https://github.com/anatali/issLab2021/blob/main/it.unibo.boundaryWalk/userDocs/VirtualRobot2021.html target="web">VirtualRobot2021.html</a></em>
	Then, about the robot, we highlight that:
	<ol>
		<li>In the <a href="VirtualRobot2021.html#commands" target="web">VirtualRobot2021.html: commands</a> the customer states that the robot can receive move commands in two different ways:
		<ul>
			<li>by sending messages to the port <tt>8090</tt> using  <ks>HTTP POST</ks> </li>
			<li>by sending messages to the port <tt>8091</tt> using a <ks>websocket</ks> </li>
		</ul>
	
		<li> With respect to the technological level, there are many libraries in many programming languages that support the required protocols. </li>
	</ol>
	
	<center><k>Thanks to all the code present in the <a href=https://github.com/anatali/issLab2021/tree/main/it.unibo.qak21.basicrobot/resources>it.unibo.qak21.basicrobot/resources</a>, we can say that all <i>abstraction-gap</i> releated to the communication between <em>ParkManagerService</em> and the robot (virtual or concrete) are solved. We can also reuse this interaction model to the other devices of the system.</k></center></br>
	
	</div>
	
	<div class="remark">
	<h3>Logical Architecture</h3>
	Then, a primitive form of <ks>logical architecture</ks> is:
	<center><img src="./img/logical_arch_base.png" style="max-width:100%"//></center></br>
	
	Zooming into <em>ParkManagerService</em>, we highlight the main entities of the system.
	<k>We also specify that we will use actors, thanks to the <a href=http://htmlpreview.github.io/?https://github.com/anatali/issLab2021/blob/main/it.unibo.qakintro2020/userDocs/LabQakIntro2021.html><em>QActor (meta)model</em></a>, to realize the <em>ParkManagerService</em></k>.</br>
	Then, the result of a first zoom into the <em>ParkManagerService</em> using the <em>QActor</em> is:
	<center><img src="./img/problem_analysis_entities.png" style="max-width:100%"/></center></br>
	
	These actors model the main entities in the system:
	<ul>
		<li>the <ks>outSonar</ks> is modelled by the actor <em>outSonarActor</em> that emits the <ks>outBusy</ks> and <ks>outFree</ks> events when the sonar device detects the arriving/leaving respectively of a car over the outdoor area. Notice that the actor does not need to have response/request mechanism because these events give us all the information we need from the device;</li>
		<li>the <ks>weight sensor</ks> is modelled by the actor <em>weightSensorActor</em> than emits the <ks>weightPresent</ks> and <ks>weightAbsent</ks> events when the sensor detects the arriving/leaving of a car over the indoor area. This actor is similar to the previous one;</li>
		<li>the <ks>fan</ks> is modelled by the actor <em>fanActor</em> that is able to receive dispatch messages, <ks>powerOn</ks> or <ks>powerOff</ks>, in order to manage the status of the fan. We specify that this messages are <i>fire and forget</i> than the communication is <i>asynchronous</i> to take the advantages of this type of interaction (<i>non-blocking calls</i>). It is also useful to have a request/response mechanism to 
		<li>the <ks>thermometer</ks> is modelled by the actor <em>thermometerActor</em> that:
			<ul>
				<li>emits two type of events, <ks>criticalTemp</ks> when the temperature of the parking area is greater then the critical (case <k>TA &gt TMAX</k>) and <ks>tollerableTemp</ks> when the temperature returns to be <i>tollerable</i>(case <k>TA &#8804 TMAX</k>);
				<li>is able to continuously write temperature to a publish/subrible proxy (like <a href=https://mqtt.org/ target="web"><i>MQTT</i></a> protocol); then, the other actors can <i>call</i> the <i>subscribe</i> primitive to the proxy if interested to observe the temperature. Since the <em>QActor System</em> has large compatibility with <i>MQTT</i>, we suggest to use it, but it is also possible to use another system, also made by the same projectist (e.g. using the <a href=https://en.wikipedia.org/wiki/Blackboard_(design_pattern)>Blackboard Pattern</a>);
			</ul>
		The use of public/subscribe protocol is very lightway and releases the actor by sending messages guaranteeing an optimal scalability.
		</li>
		<li>the <ks>robot</ks> that has the role of <i>transport trolley</i> is modelled by the actor <em>transportTrolleyActor</em> that is able to receive dispatch messages:
		<ul>
			<li><ks>parkCar</ks> that represents the <i>command</i> to transport a car from indoor area to the specified park slot;</li>
			<li><ks>exitCar</ks> that represents the <i>command</i> to transport a car from a parking slot to the outdoor-area;</i>
		</ul>
		Notice that the informative content of the messages is very important and it must always contains the <i>parking slot number</i> (both for park or exit a car).
		</li>
	</ul></br>
	<center><k>We reasoned in event-driven logic for all the information urgent for the system and that we cannot continuosly ask for. Instead,  for the useful information for logging, manager and user experience, we choose to use a publish/subscbribe protocol.</k></center>
</div>

<div class="remark">
	<h3>Logging and Security Analysis</h3>
	
	<ul>
		<li>About <ks>security</ks>: a manager, in order to use the <em>ParkServiceStatusGUI</em>, must owns proper permissions. After further analysis it would seem appropriate to add a cryptography layer over the messages (i.e. <a href=https://docs.oracle.com/javase/8/docs/api/javax/crypto/package-summary.html target="web">javax.crypto</a>);</li>
		<li>About <ks>logging</ks>: we concluded that it might be useful to implement a logging mechanism to store the history of the system (i.e. a database with SQLite/MongoDB, see also <a href=https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/ target="web">JDBC</a>).</li>
	</ul>
	<center><k>The previous points do not introduce an abstraction-gap thanks to the planty of libraries to manage them</k>.</center>
	
</div>
 

<h2>Test plans</h2> 


<h2>Project</h2> 
 
</div>

<h2>Testing</h2> 
 

<h2>Deployment</h2> 

 
<h2>Maintenance</h2> 
 
<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
-->
	      	
<br/><br/> 	
</div>  

<div style="background-color:rgba(86, 56, 253, 0.9); width:60%;text-align:left;color:white">
By studentName email: student@studio.unibo.it  
<img src="./img/emiglio.png" alt="mbot" width="15%" height="15%">
</div> 
</body>
</html>